<mat-toolbar color="primary" class="main-toolbar">
  <span>E-Commerce Application</span>
  <span class="space-buttons"></span>

  <!-- Hamburger icon for mobile -->
  <button mat-icon-button class="mobile-menu-btn" (click)="toggleMobileMenu()" aria-label="Toggle navigation">
    <mat-icon>{{ showMobileMenu ? 'close' : 'menu' }}</mat-icon>
  </button>

  <!-- Desktop nav buttons -->
  <ng-container class="desktop-nav" *ngIf="!showMobileMenu">
    <button mat-raised-button color="primary" *ngIf="!isUserLoggedIn()" routerLink="/login">
      Login
    </button>
    <button mat-raised-button color="warn" *ngIf="isUserLoggedIn()" (click)="logout()">
      Logout
    </button>
  </ng-container>
</mat-toolbar>

<!-- Mobile nav menu -->
<div class="mobile-nav-menu" *ngIf="showMobileMenu">
  <button mat-raised-button color="primary" *ngIf="!isUserLoggedIn()" routerLink="/login" (click)="toggleMobileMenu()">
    Login
  </button>
  <button mat-raised-button color="warn" *ngIf="isUserLoggedIn()" (click)="logout(); toggleMobileMenu()">
    Logout
  </button>
</div>

<mat-toolbar color="primary" *ngIf="isUserLoggedIn() && !showMobileMenu" class="main-toolbar">
  <button mat-raised-button color="primary" routerLink="/">Home</button>
  <button *ngIf="isAdmin()" mat-raised-button color="primary" [routerLink]="['/addProduct']"
    [queryParams]="{ t: timestamp }" (click)="onAddProductClick()">Add Product</button>
  <button *ngIf="isAdmin()" mat-raised-button color="primary" routerLink="/showProductDetails">View Product
    Details</button>
</mat-toolbar>

<!-- Mobile nav menu for logged-in user -->
<div class="mobile-nav-menu" *ngIf="showMobileMenu && isUserLoggedIn()">
  <button mat-raised-button color="primary" routerLink="/" (click)="toggleMobileMenu()">Home</button>
  <button *ngIf="isAdmin()" mat-raised-button color="primary" [routerLink]="['/addProduct']"
    [queryParams]="{ t: timestamp }" (click)="onAddProductClick(); toggleMobileMenu()">Add Product</button>
  <button *ngIf="isAdmin()" mat-raised-button color="primary" routerLink="/showProductDetails"
    (click)="toggleMobileMenu()">View Product Details</button>
</div>